name = "webhook-forwarder"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[observability]
[observability.logs]
enabled = true
invocation_logs = true

# Backend target configuration
# Configuration is done via environment variables with a `FORWARD_` prefix.
# The path identifier is the part of the variable name after the prefix.
# The value is a comma-separated list of URLs.
#
# Example for Cloudflare Dashboard or production:
# Variable Name: FORWARD_my-service
# Variable Value: https://example1.com/webhook,https://example2.com/webhook

[vars]
# Default configuration (can be overridden in the dashboard)
# FORWARD_github = "https://slack.com/webhook,https://discord.com/webhook"
# FORWARD_gitlab = "https://teams.com/webhook"
DEBUG = "true"

# Development environment configuration
[env.dev.vars]
FORWARD_test-id = "http://localhost:3001/webhook,http://localhost:3002/webhook"
FORWARD_another-id = "http://localhost:3003/webhook"